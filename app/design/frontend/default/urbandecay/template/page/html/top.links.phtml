<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2014 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * @deprecated after 1.4.0.1
 */
?>
<ul class="top-links">
    <li>
        <?php if (! Mage::getSingleton('customer/session')->isLoggedIn()): ?>
            <div class="header-sign-in-wrapper">
            <a class="login" href="<?php echo Mage::helper('customer')->getLoginUrl(); ?>" title="Sign in / Register"><?php echo $this->__('Sign in / Register') ?> </a>
            <div class="header-sign-in-div">
                <div class="header-sign-in">
                    <div class="top-arrow"></div>
                    <?php echo $this->getChildHtml('sign_in_mini_form') ?>
                </div>
            </div>
            </div>
        <?php else: ?>
            <?php $customer = Mage::getSingleton('customer/session')->getCustomer(); ?>
            <?php $name = $customer->getFirstname(); ?>
            <span><?php echo $this->__('Hi, ') ?></span>
            <a class="customer-page-link" href="<?php echo Mage::getUrl('customer/account/edit'); ?>" title="Account"><?php echo $name; ?></a>
            <a class="login" href="<?php echo Mage::helper('customer')->getLogoutUrl(); ?>" title="Sign Out"><?php echo $this->__('Sign Out') ?> </a>
        <?php endif; ?>
    </li>
    <li>
        <a class="cart_link" href="<?php echo Mage::helper('checkout/cart')->getCartUrl(); ?>" title="View Cart">
            <div class="header-bag-wrapper">
                <div class="header-bag-img"></div>
                <span class="mini_cart_label"><?php echo $this->__('My Bag') ?> </span>
                <span class="mini_cart_quantity" id="<?php echo Mage::helper('checkout/cart')->getItemsCount(); ?>">(<?php echo Mage::helper('checkout/cart')->getItemsCount(); ?>)</span>
            </div>
        </a>
    </li>
</ul>

<script type="text/javascript">
    //<![CDATA[
    var $j = jQuery.noConflict();
    $j(document).ready(function(){
        var $numItems = $j('.mini_cart_quantity').attr('id');
            if ( $numItems > 0) {
                $j('.header-bag-wrapper').addClass('items-in-bag');
            }
    });
    //]]>
</script>
